# STEP2022 week3

* 全ての宿題で C++17 以降を使います
* 変な入力には対応していません（例：1++2, ((1+2)*3, /2）

## homework1
> モジュール化された電卓のプログラムを変更して、「*」「/」に対応しよう

### アルゴリズムについて
文字列として電卓の入力を受け取る<br>
→数字と演算子で区別し、`tokenize`する。`std::variant`で同じ変数に保存した。<br>
→乗除を計算する<br>
→加減を計算する

## homework2
> テストを追加

### アルゴリズムについて
homework1 と全く同じであり、電卓のアルゴリズム部分のコードも同じです。<br>
唯一の異なる点は、homework1 では標準入力から入力を受け取っていたのに対し、homework2 ではプログラム内でテストが走ります。

## homework3
> 括弧に対応

### アルゴリズムについて
homework1, 2 と共通で、<br>
文字列として電卓の入力を受け取る<br>
→数字と演算子で区別し、`tokenize`します

括弧の始まりの1つ次の`index`と`tokens`を受け取って、括弧の終わりまでを計算して、計算結果を`token`にして返す再帰関数`calc_bracket`を作りました。<br>
この関数では`tokens[index]`以降を順に見ていきます。括弧でなければ、計算するtokenの集まりに追加します。`)`を読み込んだら、そこまでのtokenの集まりを計算します。`(`を読み込んだら、再帰で`calc_bracket`関数を呼びます。<br>

括弧の中を上のように最初の段階で計算した後、乗除と加減の計算をしました。
